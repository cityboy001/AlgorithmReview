<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 123 ->
      // 132 ->
      // 213 ->
      // 231 ->
      // 312 ->
      // 321 ->
      // 123
      function swap(arr, start, end) {
        const temp = arr[start];
        arr[start] = arr[end];
        arr[end] = temp;
      }
      function reverse(arr, start, end) {
        while (start < end) {
          swap(arr, start, end);
          start++;
          end--;
        }
      }

      function getNextGreaterNumber(numbers = []) {
        let index = numbers.length - 2;
        // 找到尽量靠右的最小数
        while (index >= 0 && numbers[index] >= numbers[index + 1]) {
          index--;
        }

        // 找到靠右的 比较小数大的 数
        if (index >= 0) {
          let maxIndex = numbers.length - 1;
          while (maxIndex >= 0 && numbers[maxIndex] <= numbers[index]) {
            maxIndex--;
          }
          // 交换
          swap(numbers, index, maxIndex);
          // 逆序
          reverse(numbers, index + 1, numbers.length - 1);
        } else {
          swap(numbers, 0, numbers.length - 1);
        }

        return numbers;
      }

      console.log(getNextGreaterNumber([1, 3, 2]));
    </script>
  </body>
</html>
